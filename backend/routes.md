*На данный момент доступна работа с регистрацией и аутентификацией пользователя.<br>
Кроме того реализована первая версия системы для управления пользователями и серверами.*

## Регистрация / Вход

### Описание маршрутов, которые обрабатывает сервер
1) `POST localhost:3000/register`

Регистрирует пользователя (добавляет его в базу данных). <br> 
Возвращает лишь статус операции (поле `"status"`).

**Необходимо передавать уникальный набор login и password**
***
2) `POST localhost:3000/login`

Проверяет логин и пароль в форме на соответствие реальному пользователю. <br>
Возвращает два поля в body: `"token"` - JWT token авторизации пользователя и `"status"` - статус операции

### Описание данных, которые нужно передать в запрос, а так же возвращаемых данных

1) Только body. В виде
```JSON
{
    "login" : "pomidori",
    "password" : "danu",
    "email" : "vnature@vnature.com"
}
```
***
2) Только body. В виде
```JSON
{
    "login" : "pomidori",
    "password" : "danu"
}
```
В ответ будет приходить JSON
```JSON
{
    "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNzM2MDc3MDcwfQ.2bsiXR5ecuAWRGEQGGbaQm-sdVDqr75dhrKmnYKPTuQ",
    "status": "logSuccess"
}
```
## Взаимодействие с пользователями
**Для работы следующих путей необходимо быть авторизованным в системе (иметь токен пользователя)**
### Описание маршрутов, которые обрабатывает сервер
1) `GET localhost:3000/users`

Возвращает информацию о пользователе, которая хранится по его id в таблице users


### Описание данных, которые нужно передать в запрос, а так же возвращаемых данных
1) Требуется лишь заголовок Authorization с токеном пользователя
```JS
headers: {
        Authorization: `Bearer ${token}`
      }
``` 
В ответ будет приходить JSON
```JSON
{
    "status": "ok",
    "data": [
        {
            "id": 1,
            "login": "pomidori",
            "password": "danu",
            "email": "vnature@vnature.com"
        }
    ]
}
```
## Взаимодействие с серверами
**Для работы следующих путей необходимо быть авторизованным в системе (иметь токен пользователя)**
### Описание маршрутов, которые обрабатывает сервер
1) `GET localhost:3000/servers`

Получает id всех серверов, на которых находится пользователь
***
2) `POST localhost:3000/servers`

Создает сервер с именем `name` и `owner_id` создателя, чей токен использовался
<br>

***Пользователь не может быть создателем двух или более серверов с одним именем***
***
3) `PATCH localhost:3000/servers`

Добавляет авторизованному пользователю еще один сервер, чей `id` указывается в теле запроса
***
### Динамические пути
4) `GET localhost:3000/servers/:serverId`

Получение данных о конкретном сервере по его `id` (в том числе данных о его каналах)

### Описание данных, которые нужно передать в запрос, а так же возвращаемых данных
1) Аналогично, требуется лишь Authorization с токеном пользователя
```JS
headers: {
        Authorization: `Bearer ${token}`
      }
``` 
В ответ будет приходить 
```JSON
{
    "status": "ok",
    "user_id": 1,
    "data": [
        [
            {
                "id": 1,
                "name": "lol_pomidori",
                "owner_id": 1
            }
        ],
        [
            {
                "id": 2,
                "name": "lol",
                "owner_id": 1
            }
        ]
    ]
}
```
2) Необходимо аналогично передать заголовок Authorization с токеном, а так же 
```json
{
    "name" : "vtoria_goida"
}
```
В ответ приходит лишь статус

3) Указывается заголовок Authorization, и `body` вида
```json
{
    "server_id" : 1
}
```
В ответ приходит лишь статус

4) Указывается заголовок Authorization и `:serverId` в `path variables`
В ответ приходит:
```json
{
    "status": "ok",
    "id": "3",
    "name": "namaloliamonaminalo",
    "owner_id": 2,
    "text_channels": [
        {
            "id": 1,
            "server_id": 3,
            "name": "pisalka"
        }
    ]
}
```
***
## Взаимодействие с каналами
**Для работы следующих путей необходимо быть авторизованным в системе (иметь токен пользователя)**
### Описание маршрутов, которые обрабатывает сервер
1) `POST localhost:3000/channels`

Создание канала (пока доступно лишь создание текстового канала). Создать канал может только создатель сервера
### Описание данных, которые нужно передать в запрос, а так же возвращаемых данных
1) Указывается заголовок Authorization, а так же `name` и `server_id` в `body`
```json
{
    "name" : "pisalka",
    "server_id" : 3
}
```
в ответ приходит лишь статус.